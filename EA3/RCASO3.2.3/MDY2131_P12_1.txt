-- subir Script base de datos 

-- GRANT SELECT ANY TABLE TO MDY2131_P12_2;


CREATE SYNONYM syn_ccliente FOR CREDITO_CLIENTE;
CREATE SYNONYM syn_picliente FOR PRODUCTO_INVERSION_CLIENTE;
CREATE SYNONYM syn_cccliente FOR CUOTA_CREDITO_CLIENTE;

GRANT INSERT, UPDATE, DELETE
ON MDY2131_P12_1.CREDITO_CLIENTE TO MDY2131_P12_2;

GRANT INSERT, UPDATE, DELETE
ON MDY2131_P12_1.PRODUCTO_INVERSION_CLIENTE TO MDY2131_P12_2;

GRANT INSERT, UPDATE, DELETE
ON MDY2131_P12_1.CUOTA_CREDITO_CLIENTE TO MDY2131_P12_2;


CREATE SYNONYM syn_comuna FOR COMUNA;
CREATE SYNONYM syn_region FOR REGION;
CREATE SYNONYM syn_provincia FOR  PROVINCIA;
CREATE SYNONYM syn_tcontrato FOR  TIPO_CONTRATO;
CREATE SYNONYM syn_tmovimiento FOR  TIPO_MOVIMIENTO;


GRANT SELECT ON MDY2131_P12_1.COMUNA TO MDY2131_P12_3,MDY2131_P12_4;


REVOKE SELECT ON MDY2131_P12_1.REGION FROM MDY2131_P12_3,MDY2131_P12_4;
REVOKE SELECT ON MDY2131_P12_1.PROVINCIA FROM MDY2131_P12_3,MDY2131_P12_4;
REVOKE SELECT ON MDY2131_P12_1.TIPO_CONTRATO FROM MDY2131_P12_3,MDY2131_P12_4;
REVOKE SELECT ON MDY2131_P12_1.TIPO_MOVIMIENTO FROM MDY2131_P12_3,MDY2131_P12_4;

-- CREAR ROL 
CREATE ROLE rol_u_generico;

GRANT rol_u_generico TO MDY2131_P12_3;
ALTER USER MDY2131_P12_3 DEFAULT ROLE rol_u_generico;

GRANT rol_u_generico TO MDY2131_P12_4;
ALTER USER MDY2131_P12_4 DEFAULT ROLE rol_u_generico;


GRANT SELECT ON MDY2131_P12_1.REGION TO rol_u_generico;
GRANT SELECT ON MDY2131_P12_1.COMUNA TO rol_u_generico;
GRANT SELECT ON MDY2131_P12_1.PROVINCIA TO rol_u_generico;
GRANT SELECT ON MDY2131_P12_1.TIPO_CONTRATO TO rol_u_generico;
GRANT SELECT ON MDY2131_P12_1.TIPO_MOVIMIENTO TO rol_u_generico;



CREATE SYNONYM syn_cliente FOR CLIENTE;

SELECT * FROM USER_ROLE_PRIVS; 
SELECT * FROM USER_SYS_PRIVS; 
SELECT * FROM USER_TAB_PRIVS_MADE;
SELECT * FROM USER_TAB_PRIVS_RECD;
SELECT * FROM USER_COL_PRIVS_MADE;
SELECT * FROM USER_COL_PRIVS_RECD;


GRANT SELECT ANY TABLE TO MDY2131_P12_2 WITH ADMIN OPTION;